{"version":3,"sources":["webpack:///./src/views/Upload.vue","webpack:///./src/components/UploadForm.vue","webpack:///./src/components/UploadForm.vue?c242","webpack:///./src/views/Upload.vue?fa2f","webpack:///./src/components/UploadForm.vue?96b8"],"names":["id","type","name","onFileChange","accept","previewMediaUrl","src","alt","maxlength","caption","placeholder","onSubmit","data","file","methods","e","this","$data","target","files","URL","createObjectURL","upload","isVideo","okta_uid","authState","idToken","claims","sub","username","then","res","console","log","catch","err","formData","FormData","append","fetch","method","credentials","headers","Authorization","$auth","getAccessToken","body","error","response","render","__scopeId","components","UploadForm"],"mappings":"gJACO,iB,mFAAL,eAGM,Y,EADJ,eAAc,K,iFCFXA,GAAG,iB,GACAA,GAAG,c,EAsBT,eAAwB,OAAnBA,GAAG,WAAS,S,wEAvBnB,eAwBM,MAxBN,EAwBM,CAvBJ,eAqBO,OArBP,EAqBO,CApBL,eAME,SALAC,KAAK,OACLC,KAAK,cACLF,GAAG,cACF,SAAM,8BAAE,EAAAG,cAAA,EAAAA,aAAA,qBACTC,OAAO,iC,SAGD,EAAAC,iB,iBADR,eAIE,O,MAFCC,IAAK,EAAAD,gBACNE,IAAI,0B,sDAEN,eAMY,YALVL,KAAK,UACLF,GAAG,UACHQ,UAAU,M,qDACD,EAAAC,QAAO,IAChBC,YAAY,8B,mBADH,EAAAD,WAGX,eAAyC,UAAhC,QAAK,8BAAE,EAAAE,UAAA,EAAAA,SAAA,sBAAU,YAE5B,O,gGAMW,GACbT,KAAM,aACNU,KAFa,WAGX,MAAO,CACLP,gBAAiB,KACjBQ,KAAM,KACNJ,QAAS,KAGbK,QAAS,CACPX,aADO,SACMY,GACXC,KAAKC,MAAMJ,KAAOE,EAAEG,OAAOC,MAAM,GACjCH,KAAKX,gBAAkBe,IAAIC,gBAAgBL,KAAKC,MAAMJ,OAExDF,SALO,WAMLK,KAAKM,OAAO,CACVT,KAAMG,KAAKH,KACXJ,QAASO,KAAKP,QACdc,QAASP,KAAKO,UAAW,EACzBC,SAAUR,KAAKS,UAAUC,QAAQC,OAAOC,IACxCC,SAAUb,KAAKS,UAAUC,QAAQC,OAAOzB,OAEvC4B,MAAK,SAACC,GACLC,QAAQC,IAAIF,MAEbG,OAAM,SAACC,GAAD,OAASH,QAAQC,IAAIE,OAE1Bb,OAlBC,SAkBMV,GAAM,uKACXwB,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQ1B,EAAKC,MAC7BuB,EAASE,OAAO,UAAW1B,EAAKH,SAChC2B,EAASE,OAAO,QAAS1B,EAAKW,SAC9Ba,EAASE,OAAO,WAAY1B,EAAKY,UACjCY,EAASE,OAAO,WAAY1B,EAAKiB,UANhB,SAQMU,MAAM,UAAD,OAAW,iBAAX,iBAA2C,CACrEC,OAAQ,OACRC,YAAa,UACbC,QAAS,CACPC,cAAe,UAAF,OAAY,EAAKC,MAAMC,mBAEtCC,KAAMV,IAELN,MAAK,SAACC,GAEL,OADAC,QAAQC,IAAIF,GACLA,KAERG,OAAM,SAACC,GAEN,OADAH,QAAQe,MAAMZ,GACPA,KAtBM,cAQXa,EARW,yBAyBVA,GAzBU,iD,UCpDvB,EAAOC,OAAS,EAChB,EAAOC,UAAY,kBAEJ,QFEA,GACbhD,KAAM,SACNiD,WAAY,CACVC,eGVJ,EAAOH,OAASA,EAED,gB,yDCLf","file":"js/upload.9c83312a.js","sourcesContent":["<template>\n  <div>\n    Upload Page\n    <UploadForm />\n  </div>\n</template>\n\n<script>\nimport UploadForm from \"../components/UploadForm.vue\";\n\nexport default {\n  name: \"Upload\",\n  components: {\n    UploadForm,\n  },\n};\n</script>\n","<template>\n  <div id=\"formContainer\">\n    <form id=\"uploadForm\">\n      <input\n        type=\"file\"\n        name=\"uploadField\"\n        id=\"uploadField\"\n        @change=\"onFileChange\"\n        accept=\".jpeg, .jpg, .png, .gif, .mp4\"\n      />\n      <img\n        v-if=\"previewMediaUrl\"\n        :src=\"previewMediaUrl\"\n        alt=\"Preview of your upload\"\n      />\n      <textarea\n        name=\"caption\"\n        id=\"caption\"\n        maxlength=\"200\"\n        v-model=\"caption\"\n        placeholder=\"We take captions here too!\"\n      ></textarea>\n      <button @click=\"onSubmit\">Upload</button>\n    </form>\n    <div id=\"preview\"></div>\n  </div>\n</template>\n\n<script>\nimport * as ENV from \"../../env\";\nexport default {\n  name: \"UploadForm\",\n  data() {\n    return {\n      previewMediaUrl: null,\n      file: null,\n      caption: \"\",\n    };\n  },\n  methods: {\n    onFileChange(e) {\n      this.$data.file = e.target.files[0];\n      this.previewMediaUrl = URL.createObjectURL(this.$data.file);\n    },\n    onSubmit() {\n      this.upload({\n        file: this.file,\n        caption: this.caption,\n        isVideo: this.isVideo || false,\n        okta_uid: this.authState.idToken.claims.sub,\n        username: this.authState.idToken.claims.name,\n      })\n        .then((res) => {\n          console.log(res);\n        })\n        .catch((err) => console.log(err));\n    },\n    async upload(data) {\n      const formData = new FormData();\n      formData.append(\"file\", data.file);\n      formData.append(\"caption\", data.caption);\n      formData.append(\"video\", data.isVideo);\n      formData.append(\"okta_uid\", data.okta_uid);\n      formData.append(\"username\", data.username);\n\n      const response = await fetch(`http://${ENV.resourceURL}/posts/create`, {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n          Authorization: `Bearer ${this.$auth.getAccessToken()}`,\n        },\n        body: formData,\n      })\n        .then((res) => {\n          console.log(res);\n          return res;\n        })\n        .catch((err) => {\n          console.error(err);\n          return err;\n        });\n\n      return response;\n    },\n  },\n};\n</script>\n\n<style scoped>\ntextarea {\n  resize: none;\n  width: 75vw;\n  max-width: 500px;\n}\n\n#formContainer {\n  /* max-width: 1440px; */\n  border: 1px solid black;\n}\n#uploadForm {\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  align-items: center;\n}\n\n#uploadForm * {\n  margin: 1rem 0;\n}\nimg {\n  border: 1px solid black;\n  max-width: 25rem;\n  max-height: 25rem;\n}\n</style>\n","import { render } from \"./UploadForm.vue?vue&type=template&id=07096006&scoped=true\"\nimport script from \"./UploadForm.vue?vue&type=script&lang=js\"\nexport * from \"./UploadForm.vue?vue&type=script&lang=js\"\n\nimport \"./UploadForm.vue?vue&type=style&index=0&id=07096006&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-07096006\"\n\nexport default script","import { render } from \"./Upload.vue?vue&type=template&id=b3fd6176\"\nimport script from \"./Upload.vue?vue&type=script&lang=js\"\nexport * from \"./Upload.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UploadForm.vue?vue&type=style&index=0&id=07096006&scoped=true&lang=css\""],"sourceRoot":""}